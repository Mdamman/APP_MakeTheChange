<!-- <ion-header class="ion-no-border">
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button defaultHref="app/categories"></ion-back-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header> -->

<ion-content class="login-content">
  <!-- Input Item Start -->
  <ion-row class="ion-justify-content-center item-heading">
    <ion-col size="10">
      <h2>Connectez-vous</h2>
    </ion-col>
  </ion-row>
  <!-- Heading End-->
  <form [formGroup]="loginForm" (ngSubmit)="signInWithEmail()">
    <!-- Input Item Start -->
    <ion-row class="ion-justify-content-center item-input">
      <ion-col size="10">
        <p>Email</p>
        <ion-input
          type="email"
          formControlName="email"
          clearInput
          autocapitalize="off"
          inputmode="email"
        ></ion-input>
      </ion-col>
    </ion-row>
    <ion-row class="ion-justify-content-center item-input">
      <ion-col size="10">
        <div class="error-container">
          <ng-container *ngFor="let validation of validation_messages.email">
            <div
              class="error-message"
              *ngIf="loginForm.get('email').hasError(validation.type) && (loginForm.get('email').dirty || loginForm.get('email').touched)"
            >
              <ion-icon name="information-circle-outline"></ion-icon>
              <span>{{ validation.message }}</span>
            </div>
          </ng-container>
        </div>
      </ion-col>
    </ion-row>
    <!-- Input Item End -->

    <!-- Input Item Start -->
    <ion-row class="ion-justify-content-center item-input">
      <ion-col size="10">
        <p>Mot de passe</p>
        <app-show-hide-password>
          <ion-input type="password" formControlName="password"></ion-input>
        </app-show-hide-password>
      </ion-col>
    </ion-row>
    <ion-row class="ion-justify-content-center item-input">
      <ion-col size="10">
        <div class="error-container">
          <ng-container *ngFor="let validation of validation_messages.password">
            <div
              class="error-message"
              *ngIf="loginForm.get('password').hasError(validation.type) && (loginForm.get('password').dirty || loginForm.get('password').touched)"
            >
              <ion-icon name="information-circle-outline"></ion-icon>
              <span>{{ validation.message }}</span>
            </div>
          </ng-container>
        </div>
      </ion-col>
    </ion-row>
    <!-- Input Item End -->

    <!-- SignUp Button Start -->

    <ion-row class="ion-justify-content-center item-button">
      <ion-col size="10" class="ion-align-self-center ion-text-end">
        <ion-button
          type="submit"
          [disabled]="!loginForm.valid"
          shape="round"
          color="secondary"
          expand="block"
          >Se connecter</ion-button
        >

        <div class="error-container" *ngIf="submitError">
          <div class="error-message">
            <ion-icon name="information-circle-outline"></ion-icon>
            <span>{{ submitError }}</span>
          </div>
        </div>
      </ion-col>
    </ion-row>
    <!-- SignUp Button End -->
  </form>

  <!-- Input Item Start -->
  <ion-row class="ion-justify-content-center item-heading">
    <ion-col size="10">
      <h2>ou connectez-vous avec</h2>
    </ion-col>
  </ion-row>
  <!-- Heading End-->

  <!-- Social buttons start -->
  <ion-row class="ion-justify-content-center item-social-buttons">
    <ion-col size="2.6" class="ion-align-self-center ion-text-center">
      <ion-button color="twitter" (click)="doTwitterLogin()">
        <ion-icon slot="icon-only" name="logo-twitter"> </ion-icon>
      </ion-button>
    </ion-col>
    <ion-col size="2.6" class="ion-align-self-center ion-text-center">
      <ion-button color="google" (click)="doGoogleLogin()">
        <ion-icon slot="icon-only" name="logo-google"> </ion-icon>
      </ion-button>
    </ion-col>
    <ion-col size="2.6" class="ion-align-self-center ion-text-center">
      <ion-button color="facebook" (click)="doFacebookLogin()">
        <ion-icon slot="icon-only" name="logo-facebook"> </ion-icon>
      </ion-button>
    </ion-col>
    <ion-col size="2.6" class="ion-align-self-center ion-text-center">
      <ion-button color="dark" (click)="doAppleLogin()">
        <ion-icon slot="icon-only" name="logo-apple"> </ion-icon>
      </ion-button>
    </ion-col>
  </ion-row>
  <!-- social buttons end -->
</ion-content>

<ion-footer class="ion-no-border">
  <ion-row class="item-footer">
    <ion-col class="ion-text-center">
      <p>
        Pas encore de compte?
        <span [routerLink]="['/firebase/auth/sign-up']">Sign up</span>
      </p>
    </ion-col>
  </ion-row>
</ion-footer>

